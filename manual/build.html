<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Creating and using plans" href="plans.html" /><link rel="prev" title="User manual" href="index.html" />

    <!-- Generated with Sphinx 7.2.6 and Furo 2024.01.29 -->
        <title>Building and linking - Double-Batched FFT Library documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=36a5483c" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Double-Batched FFT Library  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">Double-Batched FFT Library  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">User manual</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of User manual</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Building and linking</a></li>
<li class="toctree-l2"><a class="reference internal" href="plans.html">Creating and using plans</a></li>
<li class="toctree-l2"><a class="reference internal" href="data-layout.html">Understanding data layouts</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="caching.html">Kernel caching</a></li>
<li class="toctree-l2"><a class="reference internal" href="descriptor.html">Descriptor format</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../api/index.html">API reference</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of API reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../api/configuration.html">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/plan.html">Plans</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/generator.html">Offline generation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/online_compiler.html">Online compiler</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/jit_cache.html">Kernel caching</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/utilities.html">Utilities</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="building-and-linking">
<h1>Building and linking<a class="headerlink" href="#building-and-linking" title="Link to this heading">#</a></h1>
<section id="dependencies">
<h2>Dependencies<a class="headerlink" href="#dependencies" title="Link to this heading">#</a></h2>
<p>Installing the
<a class="reference external" href="https://www.intel.com/content/www/us/en/developer/tools/oneapi/toolkits.html">Intel oneAPI Base Toolkit</a>
is sufficent to compile the library.</p>
<p>Detailed list of dependencies:</p>
<ul class="simple">
<li><p>CMake &gt;= 3.23</p></li>
<li><p>C++ compiler with SYCL support</p></li>
<li><p>OpenCL library</p></li>
<li><p>Level Zero loader library</p></li>
<li><p>ocloc (OpenCL offline compiler from the Intel Compute Runtime)</p></li>
</ul>
</section>
<section id="build-from-source-using-oneapi">
<h2>Build from source using oneAPI<a class="headerlink" href="#build-from-source-using-oneapi" title="Link to this heading">#</a></h2>
<p>First, Initialize the oneAPI environment.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">. /opt/intel/oneapi/setvars.sh</span>
</pre></div>
</div>
<p>Clone the library’s repository to your local filesystem. Enter the directory containing your local copy
of the repository and run</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cmake -Bbuild -S. -DCMAKE_CXX_COMPILER=icpx -DCMAKE_BUILD_TYPE=Release -DBUILD_SHARED_LIBS=NO</span>
</pre></div>
</div>
<p>Static libraries are built when using the above command.
Forshared libraries build use</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cmake -Bbuild -S. -DCMAKE_CXX_COMPILER=icpx -DCMAKE_BUILD_TYPE=Release -DBUILD_SHARED_LIBS=YES</span>
</pre></div>
</div>
<p>After successful configuration, build the library with</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cmake --build build</span>
</pre></div>
</div>
<p>Finally, install with</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cmake --install build --prefix /path/to/installation</span>
</pre></div>
</div>
</section>
<section id="build-options">
<h2>Build options<a class="headerlink" href="#build-options" title="Link to this heading">#</a></h2>
<p>The build can be customized by passing -D&lt;option&gt;=ON or OFF to cmake.
The following options are supported:</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>BUILD_DOCUMENTATION</p></td>
<td><p>Generate the documentation</p></td>
</tr>
<tr class="row-odd"><td><p>BUILD_BENCHMARK</p></td>
<td><p>Build benchmark executables</p></td>
</tr>
<tr class="row-even"><td><p>BUILD_EXAMPLE</p></td>
<td><p>Build examples</p></td>
</tr>
<tr class="row-odd"><td><p>BUILD_TESTING</p></td>
<td><p>Build unit tests</p></td>
</tr>
<tr class="row-even"><td><p>BUILD_SYCL</p></td>
<td><p>Build FFT library for SYCL</p></td>
</tr>
<tr class="row-odd"><td><p>BUILD_LEVEL_ZERO</p></td>
<td><p>Build FFT library for Level Zero (must be ON if BUILD_SYCL=ON)</p></td>
</tr>
<tr class="row-even"><td><p>BUILD_OPENCL</p></td>
<td><p>Build FFT library for OpenCL (must be ON if BUILD_SYCL=ON)</p></td>
</tr>
<tr class="row-odd"><td><p>ENABLE_WARNINGS</p></td>
<td><p>Enable strict warnings</p></td>
</tr>
<tr class="row-even"><td><p>NO_DOUBLE_PRECISION</p></td>
<td><p>Disable double precision in benchmarks and tests; useful if GPU
has no support for double precision</p></td>
</tr>
<tr class="row-odd"><td><p>USE_CUDA</p></td>
<td><p>Build CUDA benchmark and examples</p></td>
</tr>
<tr class="row-even"><td><p>USE_MKL</p></td>
<td><p>Build MKL benchmark</p></td>
</tr>
<tr class="row-odd"><td><p>USE_VKFFT</p></td>
<td><p>Build VkFFT benchmark</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="linking-in-a-cmake-project">
<h2>Linking in a CMake project<a class="headerlink" href="#linking-in-a-cmake-project" title="Link to this heading">#</a></h2>
<p>The project builds the three different libraries bbfft-level-zero, bbfft-opencl, and
bbfft-sycl. The first library uses the Level Zero run-time, the second library uses
the OpenCL library, and the last library the SYCL run-time.
Using the BUILD_(SYCL, LEVEL_ZERO, OPENCL) options one can choose which libraries are built.
For example, if you do not use SYCL in your project, you can disable the SYCL build
and as such do not need a C++ compiler with SYCL support.
Note that bbfft-sycl depends on bbfft-level-zero and bbfft-opencl and cannot be
built stand-alone.</p>
<p>For each of the three libraries, CMake targets are exported and installed along with the
libraries and headers. Hence, use the find_package mechanism in your CMake project as following:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">find_package</span><span class="p">(</span><span class="s">bbfft-sycl</span><span class="w"> </span><span class="s">REQUIRED</span><span class="p">)</span>
<span class="c"># or</span>
<span class="nb">find_package</span><span class="p">(</span><span class="s">bbfft-level-zero</span><span class="w"> </span><span class="s">REQUIRED</span><span class="p">)</span>
<span class="c"># or</span>
<span class="nb">find_package</span><span class="p">(</span><span class="s">bbfft-opencl</span><span class="w"> </span><span class="s">REQUIRED</span><span class="p">)</span>
</pre></div>
</div>
<p>You can omit the REQUIRED flag.
For non-standard installation directories you might need to add the installation
location to the CMAKE_PREFIX_PATH.
For specifically requesting the static or shared library version use</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">find_package</span><span class="p">(</span><span class="s">bbfft-sycl</span><span class="w"> </span><span class="s">REQUIRED</span><span class="w"> </span><span class="s">static</span><span class="p">)</span>
<span class="c"># or</span>
<span class="nb">find_package</span><span class="p">(</span><span class="s">bbfft-sycl</span><span class="w"> </span><span class="s">REQUIRED</span><span class="w"> </span><span class="s">shared</span><span class="p">)</span>
</pre></div>
</div>
<p>To link the library and to set include directories you only need</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">target_link_libraries</span><span class="p">(</span><span class="s">your-target</span><span class="w"> </span><span class="s">PRIVATE</span><span class="w"> </span><span class="s">bbfft::bbfft-sycl</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="plans.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Creating and using plans</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="index.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">User manual</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2022, Intel Corporation
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Building and linking</a><ul>
<li><a class="reference internal" href="#dependencies">Dependencies</a></li>
<li><a class="reference internal" href="#build-from-source-using-oneapi">Build from source using oneAPI</a></li>
<li><a class="reference internal" href="#build-options">Build options</a></li>
<li><a class="reference internal" href="#linking-in-a-cmake-project">Linking in a CMake project</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=32e29ea5"></script>
    </body>
</html>